<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{PROJECT_NAME}} - Vidra</title>
    <link rel="stylesheet" href="/src/style.css">
</head>
<body>
    <header class="app-header">
        <div class="header-content">
            <h1>üé¨ {{PROJECT_NAME}}</h1>
            <p class="subtitle">Vidra Interactive Development Environment</p>
        </div>
        <nav class="mode-tabs">
            <button class="tab-btn active" data-tab="player-mode">‚ñ∂Ô∏è Player Mode</button>
            <button class="tab-btn" data-tab="render-mode">‚öôÔ∏è SDK / Render IR</button>
            <button class="tab-btn" data-tab="capture-mode">üåê Web Scene</button>
        </nav>
    </header>

    <main class="app-content">
        <!-- PLAYER MODE -->
        <section id="player-mode" class="tab-content active">
            <div class="panel instructions">
                <h3>Vidra WASM Player</h3>
                <p>This mode uses <code>@sansavision/vidra-player</code> to natively render the project timeline in your browser via WebAssembly and WebGL.</p>
                <div class="controls">
                    <button id="play-btn" class="primary">Play</button>
                    <button id="pause-btn">Pause</button>
                    <button id="restart-btn">Restart</button>
                    <span id="time-display" class="time-display">0.00s</span>
                </div>
            </div>
            
            <div class="canvas-container">
                <canvas id="vidra-canvas" width="960" height="540"></canvas>
            </div>
        </section>

        <!-- SDK / RENDER MODE -->
        <section id="render-mode" class="tab-content">
            <div class="panel instructions">
                <h3>Vidra SDK (JSON IR)</h3>
                <p>This mode shows the raw JSON Intermediate Representation (IR) generated by the Typescript SDK in <code>src/video.js</code>.</p>
                <div class="terminal-instructions">
                    <p><strong>To render to MP4 locally, run:</strong></p>
                    <code>npx @sansavision/vidra render video.vidra -o output.mp4</code>
                </div>
            </div>

            <div class="code-container panel">
                <div class="code-header">
                    <span>Output of project.build()</span>
                </div>
                <pre id="ir-output">Loading SDK project...</pre>
            </div>
        </section>

        <!-- WEB CAPTURE MODE -->
        <section id="capture-mode" class="tab-content">
            <div class="panel instructions">
                <h3>Web Capture Scene</h3>
                <p>This mode embeds <code>web/chart.html</code>, a standalone web page that uses <code>@sansavision/vidra-web-capture</code>.</p>
                <p>When rendered via the CLI, Vidra mounts this page in an offscreen browser and synchronizes its timeline.</p>
            </div>
            
            <div class="iframe-container">
                <iframe src="/web/chart.html" title="Web Scene Preview"></iframe>
            </div>
        </section>
    </main>

    <script type="module" src="/src/main.js"></script>
</body>
</html>
